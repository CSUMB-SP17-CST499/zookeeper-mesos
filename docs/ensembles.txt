In order to run a ZooKeeper ensemble within Mesos we will need to initiate a quorum using a .cfg file

>>
tickTime=2000
dataDir=/var/lib/zookeeper
clientPort=2181
initLimit=5
syncLimit=2
server.1=zoo1:2888:3888
server.2=zoo2:2888:3888
server.3=zoo3:2888:3888
>>

This can be re-written more abstractly as:

>>
tickTime=<milliseconds per tick>
dataDir=<absolute path to data>
clientPort=<port to use for client connections>
initLimit=<number of ticks for servers to connect>
syncLimit=<how many ticks behind a server can be>
server.<server number>=<server ip>:<peers port>:<leader port>
server.<server number>=<server ip>:<peers port>:<leader port>
server.<server number>=<server ip>:<peers port>:<leader port>
>>

In the case that you want to run all servers in the ensemble on one machine simply increment the ports for each successive server.

Run the .cfg with bin/zkServer.sh start

Summary of: https://zookeeper.apache.org/doc/trunk/zookeeperStarted.html